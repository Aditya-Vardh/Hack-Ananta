<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Student Mental Health Support Chatbot</title>

<style>
* {
  box-sizing: border-box;
}

body {
  margin: 0;
  background: #343541;
  font-family: Inter, Arial, sans-serif;
  color: white;
  display: flex;
  flex-direction: column;
  height: 100vh;
}

.header {
  background: #202123;
  padding: 12px 18px;
  text-align: center;
}

.logo {
  display:flex;
  align-items:center;
  justify-content:center;
  gap:12px;
}

.logo-mark {
  width:42px;
  height:42px;
  border-radius:8px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:700;
  color:#202123;
  background: linear-gradient(135deg,#6b8cff,#00d4ff);
  box-shadow: 0 6px 18px rgba(0,0,0,0.35);
  transform-origin: center;
  animation: logo-pulse 2.6s ease-in-out infinite;
}

.logo-mark.bounce {
  animation: logo-bounce 0.8s ease-out;
}

.logo-text {
  font-size:16px;
  font-weight:600;
}

@keyframes logo-pulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.06) rotate(-2deg); }
  100% { transform: scale(1); }
}

@keyframes logo-bounce {
  0% { transform: translateY(0) scale(1); }
  30% { transform: translateY(-8px) scale(1.05); }
  100% { transform: translateY(0) scale(1); }
}

.chat {
  flex: 1;
  padding: 22px;
  overflow-y: auto;
  display:flex;
  flex-direction:column;
}

.message {
  max-width: 76%;
  padding: 12px 14px;
  margin: 10px 0;
  border-radius: 10px;
  line-height: 1.4;
  box-shadow: 0 6px 14px rgba(0,0,0,0.25);
  opacity: 0;
  transform: translateY(8px) scale(0.995);
  animation: fadeInUp .28s ease forwards;
}

.bot {
  background: #444654;
  align-self:flex-start;
}

.user {
  background: #19c37d;
  color: black;
  align-self:flex-end;
}

@keyframes fadeInUp {
  to { opacity: 1; transform: translateY(0) scale(1); }
}

.typing-dots {
  display:inline-flex;
  gap:6px;
  align-items:center;
}

.typing-dots span {
  width:7px;
  height:7px;
  background:#cfcfd3;
  border-radius:50%;
  display:inline-block;
  animation: dots 1s infinite ease-in-out;
}

.typing-dots span:nth-child(2) { animation-delay: .15s }
.typing-dots span:nth-child(3) { animation-delay: .3s }

@keyframes dots {
  0% { transform: translateY(0); opacity: .5 }
  50% { transform: translateY(-6px); opacity: 1 }
  100% { transform: translateY(0); opacity: .5 }
}

.input-area {
  display: flex;
  padding: 14px;
  background: #202123;
  align-items:center;
  gap:8px;
}

input {
  flex: 1;
  padding: 12px;
  border-radius: 8px;
  border: 1px solid rgba(255,255,255,0.06);
  background: #121212;
  color: #fff;
  outline: none;
  font-size: 15px;
}

input:focus { box-shadow: 0 6px 18px rgba(0,0,0,0.25); }

button {
  padding: 12px 18px;
  border: none;
  border-radius: 8px;
  background: linear-gradient(90deg,#00d4ff,#19c37d);
  font-size: 15px;
  cursor: pointer;
  color: #07141a;
  font-weight:700;
}

button:hover { opacity: 0.95; transform: translateY(-1px); }

.small-note { font-size:12px; color:rgba(255,255,255,0.6); margin-top:6px; text-align:center }
</style>
</head>

<body>

<div class="header">
  <div class="logo">
    <div class="logo-mark" id="logoMark">ðŸ§ </div>
    <div class="logo-text">Student Mental Health Support</div>
  </div>
  <div class="small-note">This is emotional support, not medical advice.</div>
</div>

<div class="chat" id="chat">
  <div class="bot">
    Hi ðŸ‘‹ Iâ€™m here to listen.<br>
    This is emotional support, not medical advice.<br>
    How are you feeling today?
  </div>
</div>

<div class="input-area">
  <input id="msg" placeholder="Type your message..." />
  <button onclick="send()">Send</button>
</div>

<script>
function random(arr) {
  return arr[Math.floor(Math.random() * arr.length)];
}

const chatEl = document.getElementById('chat');
const logoMark = document.getElementById('logoMark');

function addMessage(text, className) {
  const el = document.createElement('div');
  el.className = 'message ' + className;
  el.textContent = text;
  el.setAttribute('role','article');
  chatEl.appendChild(el);
  chatEl.scrollTop = chatEl.scrollHeight;
  return el;
}

function addTypingPlaceholder() {
  const el = document.createElement('div');
  el.className = 'message bot typing';
  const dots = document.createElement('span');
  dots.className = 'typing-dots';
  for (let i=0;i<3;i++){ const s = document.createElement('span'); dots.appendChild(s) }
  el.appendChild(dots);
  chatEl.appendChild(el);
  chatEl.scrollTop = chatEl.scrollHeight;
  return el;
}

function typewriter(el, text, speed=24, cb) {
  el.textContent = '';
  let i = 0;
  const id = setInterval(()=>{
    if (i < text.length) {
      el.textContent += text.charAt(i++);
      chatEl.scrollTop = chatEl.scrollHeight;
    } else { clearInterval(id); if(cb) cb(); }
  }, speed);
}

function computeReplyFor(text){
  const lower = text.toLowerCase();
  let reply = random([
    "Hmm, tell me more ðŸ‘€",
    "I'm listening ðŸ‘‚",
    "Gotcha. What's been going on?",
    "Alright, I'm here with you."
  ]);

  if (lower.includes("stress")) {
    reply = random([
      "Ahh stressâ€¦ the uninvited guest ðŸ˜®â€ðŸ’¨. Letâ€™s slow it down together.",
      "Sounds like your brain is doing overtime. One small step at a time.",
      "Stress hits everyone. Youâ€™re not weak for feeling this."
    ]);
  }
  else if (lower.includes("anxious") || lower.includes("anxiety")) {
    reply = random([
      "Anxiety really loves drama ðŸ˜µâ€ðŸ’«. Youâ€™re actually safe right now.",
      "That jittery feeling sucks. Try the 5-4-3-2-1 grounding trick.",
      "Letâ€™s pause for a second. Take a slow breath with me ðŸŒ¬ï¸."
    ]);
  }
  else if (lower.includes("sad") || lower.includes("lonely") || lower.includes("empty")) {
    reply = random([
      "Heyâ€¦ thatâ€™s heavy. Thanks for trusting me ðŸ’™.",
      "Feeling this way doesnâ€™t mean anything is wrong with you.",
      "Lonely days hit hard. You donâ€™t have to handle it alone here."
    ]);
  }
  else if (lower.includes("exam") || lower.includes("test")) {
    reply = random([
      "Exams really think theyâ€™re the final boss ðŸŽ®ðŸ˜….",
      "One exam â‰  your entire future. Promise.",
      "Short study sessions + breaks = happier brain."
    ]);
  }
  else if (lower.includes("help")) {
    reply = random([
      "If things feel too heavy, itâ€™s okay to ask for help.",
      "You deserve support. India Mental Health Helpline: 9152987821",
      "Talking to a real person can help more than you think ðŸ’™."
    ]);
  }
  else if (lower.includes("hi") || lower.includes("hello")) {
    reply = random([
      "Heyyy ðŸ‘‹ how are you doing?",
      "Hello ðŸ˜„ whatâ€™s on your mind?",
      "Hi! Iâ€™m here. Talk to me."
    ]);
  }
  else if (lower.includes("thanks") || lower.includes("thank you")) {
    reply = random([
      "Anytime ðŸ˜Š",
      "Glad I could help!",
      "Always here for you ðŸ’™"
    ]);
  }
  return reply;
}

function send(){
  const input = document.getElementById('msg');
  const text = input.value.trim();
  if (!text) return;
  input.value = '';

  // user message
  addMessage(text, 'user');

  // typing placeholder
  const typingEl = addTypingPlaceholder();

  // compute reply and simulate typing time
  const reply = computeReplyFor(text);
  const typingSpeedPerChar = 22; // ms per char
  const simulatedDelay = Math.min(1200 + reply.length * typingSpeedPerChar / 2, 2400);

  // give logo a small bounce when responding
  logoMark.classList.add('bounce');
  setTimeout(()=> logoMark.classList.remove('bounce'), 700);

  setTimeout(()=>{
    typingEl.remove();
    const botEl = document.createElement('div');
    botEl.className = 'message bot';
    chatEl.appendChild(botEl);
    chatEl.scrollTop = chatEl.scrollHeight;

    // reveal text with typewriter effect
    typewriter(botEl, reply, Math.max(14, typingSpeedPerChar));
  }, simulatedDelay);
}

// Enter to send
document.getElementById('msg').addEventListener('keydown', function(e){ if (e.key === 'Enter') { e.preventDefault(); send(); } });

</script>

</body>
</html>
